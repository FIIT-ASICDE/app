model Repo {
  id                   String                 @id @default(uuid()) @db.Uuid
  name                 String
  description          String?
  public               Boolean
  userOrganizationRepo RepoUserOrganization[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model RepoUserOrganization {
  favorite       Boolean
  pinned 		 Boolean?
  userMetadataId String        @db.Uuid
  userMetadata   UserMetadata  @relation(fields: [userMetadataId], references: [id])
  organizationId String?       @db.Uuid
  organization   Organization? @relation(fields: [organizationId], references: [id])
  repoId         String        @db.Uuid
  repo           Repo          @relation(fields: [repoId], references: [id])
  repoRole       RepoRole      @default(OWNER)

  @@unique([userMetadataId, repoId])
}

enum RepoRole {
  ADMIN
  CONTRIBUTOR
  VIEWER
  OWNER
}
